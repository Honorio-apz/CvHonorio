const translations = {
    "es": {
        "role": "Fundador de AiMara Lab & Investigador Principal",
        "subtitle": " Investigador en IA/PLN especializado en Lenguas de Bajos Recursos",
        "location": "Ilo, Moquegua, Perú",
        "bio_p1": "Soy el Fundador de <strong>AiMara Lab</strong> y Profesor en la Universidad Nacional de Moquegua (Perú). También me desempeño como Miembro Senior del IEEE y Co-fundador del Grupo de Investigación AiMARA.",
        "bio_p2": "Anteriormente, trabajé como Desarrollador de IA en ITACA LEGAL e INDECOPI, desarrollando modelos de PLN para tecnología legal y sistemas de recomendación. Tengo una Maestría en Ciencia de la Computación de la Universidad Nacional de San Agustín (UNSA), donde me especialicé en Traducción Automática Neuronal para lenguas de bajos recursos.",
        "bio_p3": "Obtuve mi título de Ingeniero de Sistemas e Informática en la UNAM, donde gané el concurso de proyectos de investigación financiado por regalías mineras. Mi investigación se encuentra en la intersección del Aprendizaje Profundo, el Procesamiento del Lenguaje Natural y la preservación de lenguas nativas como el Aymara y el Quechua.",
        "bio_contact": "Disponible para consultoría y colaboraciones. <a href='mailto:hapaza@aimaralab.com'>Contáctame</a> para más información.",
        "nav_bio": "Biografía",
        "nav_thesis": "Tesis",
        "nav_exp": "Experiencia",
        "nav_pub": "Publicaciones",
        "nav_skills": "Habilidades",
        "badge_founder": "Fundador AiMara Lab",
        "badge_ieee": "Miembro Senior IEEE",
        "badge_group": "Co-Fundador Grupo AiMARA UNAM",
        "section_thesis": "Destacado de Tesis de Maestría",
        "thesis_label": "Contribución Clave",
        "thesis_title": "Traductor Automático Neuronal para la Lengua Nativa Aymara",
        "thesis_desc": "Desarrollé y evalué modelos de traducción automática neuronal (Español - Aymara), enfocándome en arquitecturas Seq2Seq con atención versus Transformer. Los resultados demostraron que el <strong>modelo Transformer supera significativamente</strong> al Seq2Seq, logrando mayor precisión enmascarada (0.87 vs 0.68) y mejores puntajes BLEU (0.042 vs 0.031). La contribución principal fue demostrar la eficiencia de los Transformers para lenguas aglutinantes de bajos recursos.",
        "section_exp": "Experiencia Profesional",
        "card_prof_title": "Profesor",
        "card_prof_desc": "Docencia: Inteligencia Artificial, Diseño y Análisis de Algoritmos, Bases de Datos, Fundamentos de Programación, Estructuras de Datos y Seminario de Tesis.",
        "card_itaca_desc": "Desarrollé modelos de PLN para legal tech: Clasificación automática de textos, resumen de documentos, agrupación de precedentes legales y recuperación semántica de textos.",
        "card_indecopi_title": "Desarrollador de Modelos IA (PLN)",
        "card_indecopi_desc": "Mejoré diccionarios comportamentales y modelos de recomendación para detectar infracciones. <br><strong>Tech Stack:</strong> BERT, Word2vec, TF-IDF, Regresión Logística, VSM, Naive Bayes.",
        "card_unam_title": "Asistente de Cátedra e Investigador",
        "card_unam_desc": "Investigador principal: 'Minería de textos para construir un modelo de minería de datos para recomendaciones de ofertas laborales'. Ganador de subvención de investigación (UNAM-2016).",
        "section_edu": "Educación",
        "card_ms_title": "Maestría en Ciencia de la Computación",
        "card_ms_desc": "Candidato a Magíster en Ciencia de la Computación. Enfocado en IA Avanzada y PLN.",
        "card_eng_title": "Ingeniería de Sistemas e Informática",
        "card_eng_desc": "Título de Ingeniero. Ganador del concurso de proyectos de investigación UNAM-2016 con financiamiento de canon minero.",
        "card_bach_title": "Bachiller en Ingeniería de Sistemas e Informática",
        "card_bach_desc": "Graduado con Beca de 'Beca 18 Perú' (PRONABEC).",
        "section_pub": "Publicaciones Recientes",
        "section_skills": "Habilidades y Experiencia",
        "lbl_research": "Áreas de Investigación",
        "lbl_prog": "Programación",
        "lbl_tech": "Tecnologías IA/ML",
        "lbl_frameworks": "Frameworks",
        "section_lang": "Idiomas",
        "lang_aymara": "Aymara (Nativo)",
        "lang_spanish": "Español (Nativo)",
        "lang_english": "Inglés (Intermedio B2)",
        "lang_port": "Portugués (Básico)",
        "footer_rights": "&copy; 2024-2026 Honorio Apaza. Todos los derechos reservados.",
        "footer_sub": "Innovando con IA para el futuro de las lenguas nativas."
    },
    "en": {
        "role": "AiMara Lab Founder & Lead Researcher",
        "subtitle": "AI/NLP Researcher specializing in Low-resource Languages",
        "location": "Ilo, Moquegua, Perú",
        "bio_p1": "I'm the Founder of <strong>AiMara Lab</strong> and a Professor at Universidad Nacional de Moquegua (Perú). I also serve as a Senior Member of IEEE and Co-Founder of the AiMARA Research Group.",
        "bio_p2": "Previously, I worked as an AI Developer at ITACA LEGAL and INDECOPI, developing NLP models for legal tech and recommendation systems. I hold a Master's degree in Computer Science from Universidad Nacional de San Agustín (UNSA), where I specialized in Neural Machine Translation for low-resource languages.",
        "bio_p3": "I earned my Systems and Computer Engineering degree from UNAM, where I won the university's research project contest funded by mining royalties. My research lies at the intersection of Deep Learning, Natural Language Processing, and the preservation of native languages like Aymara and Quechua.",
        "bio_contact": "Available for consulting and collaborations. <a href='mailto:hapaza@aimaralab.com'>Contact me</a> for more information.",
        "nav_bio": "Bio",
        "nav_thesis": "Thesis",
        "nav_exp": "Experience",
        "nav_pub": "Publications",
        "nav_skills": "Skills",
        "badge_founder": "AiMara Lab Founder",
        "badge_ieee": "IEEE Senior Member",
        "badge_group": "Co-Founder AiMARA Research Group",
        "section_thesis": "Master's Thesis Highlight",
        "thesis_label": "Key Research Contribution",
        "thesis_title": "Neural Machine Translator for Native Language Aymara",
        "thesis_desc": "Developed and evaluated neural machine translation models (Spanish - Aymara), focusing on Seq2Seq with attention versus Transformer architectures. Results demonstrated that the <strong>Transformer model significantly outperforms</strong> Seq2Seq, achieving higher masked accuracy (0.87 vs 0.68) and better BLEU scores (0.042 vs 0.031). primary contribution was demonstrating the efficiency of Transformers for agglutinative, low-resource languages.",
        "section_exp": "Professional Experience",
        "card_prof_title": "Professor",
        "card_prof_desc": "Teaching: Artificial Intelligence, Algorithms Design & Analysis, Databases, Programming Fundamentals, Data Structures, and Thesis Seminar.",
        "card_itaca_desc": "Developed NLP models for legal tech: Automatic text classification, document summarization, clustering legal precedents, and semantic text retrieval.",
        "card_indecopi_title": "AI Model Developer (NLP)",
        "card_indecopi_desc": "Improved behavioral dictionaries and recommender models for detecting infringing behaviors. <br><strong>Tech Stack:</strong> BERT, Word2vec, TF-IDF, Logistic Regression, VSM, Naive Bayes.",
        "card_unam_title": "Professor Assistant & Researcher",
        "card_unam_desc": "Principal researcher: 'Text mining to build a data mining model for job offer recommendations'. Research grant winner (UNAM-2016).",
        "section_edu": "Education",
        "card_ms_title": "Master's in Computer Science",
        "card_ms_desc": "Master of Computer Science candidate. Focused on Advanced AI and NLP.",
        "card_eng_title": "Systems and Computer Engineering",
        "card_eng_desc": "Engineer degree. Winner of the UNAM-2016 research project contest with financing from mining royalties.",
        "card_bach_title": "Bachelor in Systems and Computer Engineering",
        "card_bach_desc": "Graduado con Beca de 'Beca 18 Perú' (National Scholarship and Educational Credit Program).",
        "section_pub": "Recent Publications",
        "section_skills": "Skills & Expertise",
        "lbl_research": "Research Areas",
        "lbl_prog": "Programming",
        "lbl_tech": "AI/ML Technologies",
        "lbl_frameworks": "Frameworks",
        "section_lang": "Languages",
        "lang_aymara": "Aymara (Native)",
        "lang_spanish": "Spanish (Native)",
        "lang_english": "English (Intermediate)",
        "lang_port": "Portuguese (Basic)",
        "footer_rights": "&copy; 2024-2026 Honorio Apaza. All rights reserved.",
        "footer_sub": "Innovating with AI for the future of native languages."
    }
};

// State
let currentLang = localStorage.getItem('lang') || 'en';
let currentTheme = localStorage.getItem('theme') || 'light';

// DOM Elements
const themeBtn = document.getElementById('theme-toggle');
const langBtn = document.getElementById('lang-toggle');

// Initialize
document.documentElement.setAttribute('data-theme', currentTheme);
updateLanguage(currentLang);
updateIcons();

// Event Listeners
themeBtn.addEventListener('click', () => {
    currentTheme = currentTheme === 'light' ? 'dark' : 'light';
    document.documentElement.setAttribute('data-theme', currentTheme);
    localStorage.setItem('theme', currentTheme);
    updateIcons();
});

langBtn.addEventListener('click', () => {
    currentLang = currentLang === 'en' ? 'es' : 'en';
    updateLanguage(currentLang);
    localStorage.setItem('lang', currentLang);
    updateIcons();
});

// Functions
function updateLanguage(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) {
            el.innerHTML = translations[lang][key];
        }
    });
}

function updateIcons() {
    if (currentTheme === 'light') {
        // Show Moon (to switch to dark)
        themeBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>`;
    } else {
        // Show Sun (to switch to light)
        themeBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>`;
    }
    langBtn.textContent = currentLang === 'en' ? 'ES' : 'EN';
}
